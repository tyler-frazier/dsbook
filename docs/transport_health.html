<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Accessibility 2 - Population and Development Data Science</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div id="sidebar-scrollbox" class="sidebar-scrollbox">
                <ol class="chapter"><li class="expanded affix "><a href="book.html">About this book</a></li><li class="expanded affix "><a href="author.html">About the author</a></li><li class="expanded "><a href="getting_started.html"><strong aria-hidden="true">1.</strong> Student Preparations</a></li><li><ol class="section"><li class="expanded "><a href="gitstart.html"><strong aria-hidden="true">1.1.</strong> Getting Started with GitHub, Markdown &amp; Webstorm</a></li><li class="expanded "><a href="rinstall.html"><strong aria-hidden="true">1.2.</strong> Installing R &amp; RStudio</a></li><li class="expanded "><a href="pyinstall.html"><strong aria-hidden="true">1.3.</strong> Installing Python &amp; PyCharm</a></li><li class="expanded "><a href="rstart.html"><strong aria-hidden="true">1.4.</strong> Getting Started with R &amp; RStudio</a></li><li class="expanded "><a href="pystart.html"><strong aria-hidden="true">1.5.</strong> Getting Started with Python &amp; PyCharm</a></li></ol></li><li class="expanded "><a href="datause.html"><strong aria-hidden="true">2.</strong> Data Use for Human and Community Scale Development Processes</a></li><li><ol class="section"><li class="expanded "><a href="describe.html"><strong aria-hidden="true">2.1.</strong> Spatial Population Description</a></li><li class="expanded "><a href="model.html"><strong aria-hidden="true">2.2.</strong> Spatial Population Modelling</a></li><li class="expanded "><a href="defacto_descript.html"><strong aria-hidden="true">2.3.</strong> Accessibility 1</a></li><li class="expanded "><a href="transport_health.html" class="active"><strong aria-hidden="true">2.4.</strong> Accessibility 2</a></li><li class="expanded "><a href="topography.html"><strong aria-hidden="true">2.5.</strong> Accessibility 3</a></li></ol></li><li class="expanded "><a href="abm.html"><strong aria-hidden="true">3.</strong> Simulating Human Development Processes from Neighborhood to Regional Scales</a></li><li><ol class="section"><li class="expanded "><a href="siteselect.html"><strong aria-hidden="true">3.1.</strong> Project 1: Site Selection</a></li><li class="expanded "><a href="synpop.html"><strong aria-hidden="true">3.2.</strong> Project 2: Generating Synthetic Populations</a></li><li class="expanded "><a href="gravity.html"><strong aria-hidden="true">3.3.</strong> Project 3: Transportation Model</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Population and Development Data Science</h1>

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#adding-transportation-facilities--health-care-services" id="adding-transportation-facilities--health-care-services">Adding transportation facilities &amp; health care services</a></h1>
<p>To start the final part of project 3, head back to the HDX website that we used all the way back during the first few weeks of the semester and enter the name of your selected LMIC.  Again, I will select Liberia and begin to browse through the available data.  Identify the road network dataset for your LMIC and then select it.  Select the download button on the subsequent webpage and obtain the available data.  Move the folder you just downloaded (including the shapefile and all of its other associated files) to your working directory.</p>
<p>Import the roads shapefile into RStudio using the <code>read_sf()</code> command.</p>
<pre><code class="language-text">LMIC_roads  &lt;- add_command_here(&quot;data_folder/LMIC_roads.shp&quot;)
</code></pre>
<p>Using the polygon you created at the end of the previous exercise use the <code>st_crop()</code> command to crop your <code>LMIC_roads</code> object to just those roadways that are located within the adm2 or adm3 previously selected.</p>
<pre><code class="language-text">adm2_roads &lt;- add_command_here(LMIC_roads, unioned_adm2_borders)
</code></pre>
<p>Use the <code>table()</code> command to review the different classifications of roads that populate your adm2.  Most likely the variable you will be interested in producing a table that describes the different discrete values is named <code>CATEGORY</code>.</p>
<pre><code class="language-text">add_command_here(object$variable)
</code></pre>
<p>Take each of these different discrete outcomes within your roads <code>sf</code> object and use the <code>filter()</code> command to subset based on each different classification.</p>
<pre><code class="language-text">primary &lt;- adm2_roads %&gt;%
  add_command_here(VARIABLE == &quot;Primary Routes&quot;)

secondary &lt;- adm2_roads %&gt;%
  add_command_here(VARIABLE == &quot;Paved&quot;)

tertiary &lt;- adm2_roads %&gt;%
  add_command_here(VARIABLE == &quot;Tracks&quot;)
</code></pre>
<p>Use <code>ggplot()</code> to produce a plot that describes the location of all urban areas as well as the transportation network throughout your selected adm2.</p>
<pre><code class="language-text">ggplot() +
  geom_sf(data = combined_adm2s_border,
          size = 0.75,
          color = &quot;gray50&quot;,
          fill = &quot;gold3&quot;,
          alpha = 0.15) +
  geom_sf(data = combined_urban_areas,
          size = 0.75,
          color = &quot;gray50&quot;,
          fill = &quot;gold3&quot;,
          alpha = 0.15) +
  geom_sf(data = primary_roads,
          size = set_size,
          color = &quot;color&quot;) +
  geom_sf(data = seondary_roads,
          size = set_size,
          color = &quot;color&quot;) +
  geom_sf(data = tertiary_roads,
          size = set_size,
          color = &quot;color&quot;) +
  xlab(&quot;longitude&quot;) + ylab(&quot;latitude&quot;) +
  ggtitle(&quot;Roadways throughout your selected adminitrative units&quot;)
</code></pre>
<p>The previous code will produce the following plot for the two Liberian administrative subdivisions that were previously selected and unioned into a single <code>sf</code> object.</p>
<p><img src="images/rplot02%20%286%29.png" alt="" /></p>
<p>Go back to the HDX website for your LMIC and download the data that describes health care facilities.  Use the <code>read_sf()</code> command to load the data into RStudio.  Use <code>st_crop()</code> to crop the health care facilities to your selected adm2 or adm3 area.  Use <code>table()</code> to identify all of the different types of health care facilities.  Subset each of the health care facility types in the same manner you previously subset transportation facility classifications.</p>
<pre><code class="language-text">hospitals &lt;- adm_hcf %&gt;%
  add_command_here(add_variable_here == &quot;hospital&quot;)

clinics &lt;- adm_hcf %&gt;%
  add_command_here(add_variable_here == &quot;clinic&quot;)

other_hcfs &lt;- adm_hcf %&gt;%
  add_command_here(add_variable_here == &quot;doctors&quot; | add_variable_here == &quot;dentist&quot; | add_variable_here == &quot;pharmacy&quot;)
</code></pre>
<p>Add each health care facility type to your plot.</p>
<pre><code class="language-text">ggplot() +

...
  
  geom_sf(data = hospital,
          size = add_size,
          color = &quot;color&quot;) +
  geom_sf(data = clinic,
          size = add_size,
          color = &quot;color&quot;) +
  geom_sf(data = ohcf,
          size = add_size,
          color = &quot;color&quot;) +
  
  ...
  
  ggtitle(&quot;Access to Health Care Serivces throughout Sanniquelleh-Mahn &amp; Saclepea, Liberia&quot;)

</code></pre>
<p>The previous plot will produce the following output.</p>
<p><img src="images/rplot01%20%281%29.png" alt="" /></p>
<p>Finally, add the scale that describes the size and density of each urban area.  Produce the plot that describes access to health care services via transportation facilities throughout your selected and combined adm2 areas.</p>
<p><img src="images/rplot04%20%282%29.png" alt="" /></p>
<h2><a class="header" href="#project-3-individual-deliverable" id="project-3-individual-deliverable">Project 3. Individual Deliverable</a></h2>
<p>Upload the spatial plot that describes the <em>de facto</em> location of human settlements and urban areas, the center lines of classified roadways and the location of health care facilities by type throughout your selected and combined adm2, adm3 or adm4 areas.</p>
<p>Accompany your plot with a written statement that provides answers to the following information. </p>
<ol>
<li>Total population of selected and combined adm2, adm3 or adm4 areas and the total number of distinctly defined human settlements or urban areas</li>
<li>A description of the distribution of sizes and densities of all human settlements and urban areas throughout your selected and combined adm2, adm3 or adm4 areas</li>
<li>A description of the roadways and your estimate of the transportation networks level of service in comparison to the spatial distriubtion of human settlements and urban areas</li>
<li>A description of health care facilities and your estimate of service accessibility in comparison to the spatial distriubtion of human settlements and urban areas</li>
</ol>
<p>Each team member should be prepared to present their final draft results on Friday, November 15th during the informal group presentations.  Upload your finished product to the slack channel #data100_project3 no later than 11:59PM on Sunday, November 17th.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="defacto_descript.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="topography.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="defacto_descript.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="topography.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
